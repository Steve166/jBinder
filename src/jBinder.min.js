(function(e){function n(t,n,r){var i=n.attr("data-jBinder-"+t+"-args");var s;if(i){s=e.parseJSON(i)}else{s=new Object}s["element"]=n;if(r){s["event"]=r}return s}function r(e){var t;if(e.indexOf(".")>0){t=e.split(".")[1]}else{t=e}return t}var t=new Object;e.jBinder={registerFunction:function(e,n){t[e]=n},unRegisterFunction:function(e){if(e){t[e]=function(){}}else{t=new Object}}};var s={bindFunctions:function(){return this.each(function(){var s=e(this);var o=new Object;var u=[];var a=0;s.find("[data-jBinder-functions]").add(s.filter("[data-jBinder-functions]")).each(function(){var s=e(this);var f=false;var l=s.attr("data-jBinder-functions");if(l){var c="";var h="";var p=l.split(",");if(s.attr("data-jBinder-boundFunctions")){h=s.attr("data-jBinder-boundFunctions")}for(i=0;i<p.length;i++){var d=e.trim(p[i]);var v=r(d);if(v in t){if(h!=""){h+=","}h+=d;if(d.indexOf(".")>0){if(d.split(".")[0].match("^\\d*$")){a=d.split(".")[0];f=true}else{f=false}}else{a=1;f=true}if(!f){(function(e,t,r){s.off(r);s.on(r,function(r){return e(n(t,s,r))})})(t[v],v,d)}else{if(u.indexOf(a)==-1){u.push(a);o[a]=[]}(function(e,t){o[a].push(function(){e(n(t,s,null))})})(t[v],v)}}else{if(c!=""){c+=","}c+=d}}if(c==""){s.removeData("jbinder-functions");s.attr("data-jBinder-functions",null)}else{s.attr("data-jBinder-functions",c)}s.attr("data-jBinder-boundFunctions",h)}});u=u.sort();for(i=0;i<u.length;i++){a=u[i];for(f=0;f<o[a].length;f++){o[a][f]()}}})},addFunction:function(t,n){return this.each(function(){var s=e(this);var o=r(t);var u=s.attr("data-jBinder-functions");if(!u){u=""}var a=u.split(",");for(i=0;i<a.length;i++){if(a[i]==t){t=""}}if(t!=""){if(u!=""){u+=","}u+=t;s.attr("data-jBinder-functions",u);if(n&&n!=""){s.attr("data-jBinder-"+o+"-args",n)}}})},removeFunction:function(t){if(!t){return this.each(function(){var t=e(this);var n;var r;if(t.attr("data-jBinder-boundFunctions")){r=t.attr("data-jBinder-boundFunctions").split(",")}else{r="".split(",")}for(i=0;i<r.length;i++){n=r[i];if(n.indexOf(".")>0){t.off(n)}}t.attr("data-jBinder-boundFunctions","")})}else{return this.each(function(){var n=e(this);var s=n.attr("data-jBinder-boundFunctions").split(",");var o;var u="";var a="";for(i=0;s.length;i++){o=s[i];u=r(o);if(u==t){if(o.indexOf(".")>0){n.off(o)}}else{if(a!=""){a+=","}a+=o}}n.attr("data-jBinder-boundFunctions",a)})}}};e.fn.jBinder=function(t){if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return s.bindFunctions.apply(this)}else{e.error("Method "+t+" does not exist on jQuery.jBinder")}}})(jQuery)